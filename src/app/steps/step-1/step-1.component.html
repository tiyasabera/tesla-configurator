
<app-navbar [isStep1Valid]="isStep1Valid" [isStep2Valid]="isStep2Valid"></app-navbar>
<h1>Step 1: Choose your Model and color</h1>

<form [formGroup]="step1Form">
    <div class="step-1-container">
        <div class="tesla-models">
            <label for="modelSelect">Model:</label>
            <select name="models" id="modelSelect" formControlName="currentModel" (change)="onModelChange($event)">
                @if (teslaModelInformation?.length) {
                    <option value="" selected>Choose...</option>
                    @for (option of teslaModelInformation; track option.code) {
                        <option [value]="option.description">{{ option?.description }}</option>
                    }
                }
            </select>
        </div>
        @if(selectedModel?.colors?.length) {  
            <div class="tesla-colors">
                <label for="colorSelect">Color:</label>
                <select name="colors" id="colorSelect" formControlName="currentColor" (change)="onColorChange($event)">
                    <option value="" selected>Choose...</option>
                    @for (color of selectedModel?.colors; track color.code) {
                        <option [value]="color.code">{{ color?.description }}</option>
                    }
                </select>
            </div>  
        }     
    </div>

    @if (imagePath) {
        <div class="step-1-image">
            <img [src]="imagePath" width="1330" height="738">
        </div>
    }
</form>
